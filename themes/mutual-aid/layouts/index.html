{{ define "title" }}{{ .Site.Title }} - Mutual Aid Needs{{ end }}

{{ define "main" }}
<div class="top-banner">
    <div class="container banner-content">
        <div class="banner-message">
            <span class="banner-text">üíô Do you, or someone you know, need help? <a href="https://github.com/aschepis/mutual-aid-list/issues/new?template=add-mutual-aid-request.yml" target="_blank" rel="noopener noreferrer" class="banner-cta">Add a request to this list</a>.</span>
        </div>
        <div class="banner-links">
            <a href="https://github.com/aschepis/mutual-aid-list" target="_blank" rel="noopener noreferrer" class="github-link">
                <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
                View on GitHub
            </a>
        </div>
    </div>
</div>

<div class="container">
    <div class="intro">
        <h1>{{ .Site.Title }}</h1>
        <p>{{ .Site.Params.description }}</p>
    </div>

    <div class="controls">
        <div class="filters">
            <div class="filter-group">
                <label for="location-filter">Filter by Location:</label>
                <select id="location-filter">
                    <option value="">All Locations</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="tag-filter">Filter by Tag:</label>
                <select id="tag-filter">
                    <option value="">All Tags</option>
                </select>
            </div>
        </div>

        <div class="sorting">
            <label for="sort-by">Sort by:</label>
            <select id="sort-by">
                <option value="newest">Newest First</option>
                <option value="oldest">Oldest First</option>
                <option value="name-asc">Name (A-Z)</option>
                <option value="name-desc">Name (Z-A)</option>
                <option value="location-asc">Location (A-Z)</option>
                <option value="location-desc">Location (Z-A)</option>
            </select>
        </div>
    </div>

    <div class="aid-list" id="aid-list">
        {{ range .Site.Data.requests }}
        <div class="aid-card"
             data-location="{{ .location }}"
             data-tags="{{ delimit .tags "," }}"
             data-created="{{ .created_at }}"
             data-name="{{ .name }}">
            <h2 class="aid-name">{{ .name }}</h2>
            {{ if .location }}
            <p class="aid-location">üìç {{ .location }}</p>
            {{ end }}
            <p class="aid-description">{{ .description }}</p>
            {{ if .tags }}
            <div class="aid-tags">
                {{ range .tags }}
                <span class="tag">{{ . }}</span>
                {{ end }}
            </div>
            {{ end }}
            <div class="aid-meta">
                {{ if .created_at }}
                <span class="date">Posted: {{ dateFormat "January 2, 2006" .created_at }}</span>
                {{ end }}
            </div>
            <a href="{{ .link }}" target="_blank" rel="noopener noreferrer" class="aid-link">View Request ‚Üí</a>
        </div>
        {{ end }}
    </div>

    <div class="contribute">
        <h2>Want to add a mutual aid request?</h2>
        <p>Create a pull request on our <a href="https://github.com/aschepis/mutual-aid-list" target="_blank">GitHub repository</a>.</p>
    </div>
</div>
{{ end }}
